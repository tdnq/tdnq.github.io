"use strict";(self.webpackChunktdnq_github_io=self.webpackChunktdnq_github_io||[]).push([[597],{3116:function(t,i){var e={vertex:[-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,1,-1,-1,1,1,-1,-1,1,-1],indices:[0,3,2,0,1,2,1,2,5,2,5,6,2,3,6,3,6,7,0,3,4,3,4,7,0,1,4,1,4,5,4,5,6,4,6,7],unit:3};i.Z=e},597:function(t,i,e){e.r(i),e.d(i,{default:function(){return o}});var n=e(3433),a=e(7885),l=e(3116),s=e(8789),r=e(6057),h=e(9637);function o(t){var i;this.canvasContainer=t.current,(0,h.e)(this.canvasContainer),this.createCanvas(this.canvasContainer.clientWidth,this.canvasContainer.clientHeight).appendCanvas().getWebglContext(),(i=this.gl).clearColor.apply(i,(0,n.Z)(a.pn)),this.gl.enable(this.gl.DEPTH_TEST),this.initShader(s.Le),c.call(this);var e=new r.y;e.setScale(10,10,10),this.fillUniformData(e.elements,"u_modelMatrix",4,"Matrix");var o=new Float32Array(this.getRandomArray(4)),u=new Float32Array([55,80]),f=new Float32Array([25,65,35,1]);this.fillUniformData(o,"u_fogColor",4),this.fillUniformData(u,"u_fogDist",2),this.fillUniformData(f,"u_eye",4);var d=new r.y;d.setPerspective(30,this.ele.width/this.ele.height,1,1e3),d.lookAt(f[0],f[1],f[2],0,2,0,0,1,0),d.multiply(e),this.fillUniformData(d.elements,"u_mvpMatrix",4,"Matrix"),this.gl.clear(this.gl.DEPTH_BUFFER_BIT|this.gl.COLOR_BUFFER_BIT),this.gl.drawElements(this.gl.TRIANGLES,l.Z.indices.length,this.gl.UNSIGNED_BYTE,0),document.addEventListener("keydown",g.bind(this,u))}function c(){var t=new Float32Array(l.Z.vertex),i=t.length/l.Z.unit,e=new Uint8Array(l.Z.indices),n=new Float32Array(this.getRandomArray(4*i));this.fillShaderAttribution(t,"a_position",l.Z.unit),this.fillShaderAttribution(n,"a_color",4),this.fillElementsIndex(e)}function g(t,i){switch(i.keyCode){case 38:t[1]+=1;break;case 40:t[0]<t[1]&&(t[1]-=1)}this.fillUniformData(t,"u_fogDist",2),this.gl.clear(this.gl.DEPTH_BUFFER_BIT|this.gl.COLOR_BUFFER_BIT),this.gl.drawElements(this.gl.TRIANGLES,l.Z.indices.length,this.gl.UNSIGNED_BYTE,0)}}}]);