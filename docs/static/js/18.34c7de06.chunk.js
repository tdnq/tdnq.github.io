(this["webpackJsonptdnq.github.io"]=this["webpackJsonptdnq.github.io"]||[]).push([[18],{177:function(t,n,e){"use strict";e.d(n,"b",(function(){return o})),e.d(n,"a",(function(){return r})),e.d(n,"c",(function(){return i}));var o=[1,1,1,.1],r=[0,0,0,.1],i="#d8dadd"},181:function(t,n,e){"use strict";e.d(n,"a",(function(){return o})),e.d(n,"b",(function(){return r})),e.d(n,"d",(function(){return i})),e.d(n,"c",(function(){return a}));var o={vshader:"\n            attribute vec4 a_position;\n            attribute vec4 a_color;\n            varying vec4 f_color;\n            uniform mat4 u_modelMatrix;\n            uniform vec4 u_eye;\n            uniform mat4 u_mvpMatrix; \n            varying float v_dist;\n            void main(){\n                gl_Position = u_mvpMatrix * a_position;\n                f_color = a_color;\n                v_dist = gl_Position.w;\n            }\n        ",fshader:"\n            precision mediump float;\n            varying vec4 f_color;\n            varying float v_dist;\n            uniform vec4 u_fogColor;\n            uniform vec2 u_fogDist;\n            void main(){\n                float fogFactor = clamp((u_fogDist.y - v_dist) / (u_fogDist.y - u_fogDist.x), 0.0, 1.0);\n                vec4 color = mix(u_fogColor, f_color, fogFactor);\n                gl_FragColor = color;\n            }\n        "},r={vshader:"\n            attribute vec4 a_position;\n            attribute vec4 a_color;\n            varying vec4 f_color;\n            void main(){\n                gl_Position = a_position;\n                f_color = a_color;\n                gl_PointSize = 100.0;\n            }\n        ",fshader:"\n            precision mediump float;\n            varying vec4 f_color;\n            void main(){\n                gl_FragColor = f_color;\n                float d = distance(gl_PointCoord, vec2(0.5, 0.5));\n                if(d < 0.5) {\n                        gl_FragColor = vec4(f_color); \n                     } else { discard; }\n                }\n        "},i={vshader:"\n            attribute vec4 a_position;\n            uniform mat4 u_mvpMatrix;\n            void main(){\n                gl_Position = u_mvpMatrix * a_position;\n            }\n        ",fshader:"\n            precision mediump float;\n            void main(){\n                gl_FragColor = vec4(gl_FragCoord.z, 0, 0, 0);\n            }\n        "},a={vshader:"\n        attribute vec4 a_position;\n        attribute vec4 a_color;\n        uniform mat4 u_mvpMatrix;\n        uniform mat4 u_mvpMatrixFromLight;\n        varying vec4 v_positionFromLight;\n        varying vec4 v_color;\n        void main(){\n            gl_Position = u_mvpMatrix * a_position;\n            v_positionFromLight = u_mvpMatrixFromLight * a_position;\n            v_color = a_color;\n        }\n    ",fshader:"\n        precision mediump float;\n        uniform sampler2D u_shadowMap;\n        varying vec4 v_positionFromLight;\n        varying vec4 v_color;\n        void main(){\n            vec3 shadowCoord = (v_positionFromLight.xyz / v_positionFromLight.w)/2.0 + 0.5;\n            vec4 rgbaDepth = texture2D(u_shadowMap, shadowCoord.xy);\n            float depth = rgbaDepth.r;\n            float visibility = (shadowCoord.z > depth + 0.005) ? 0.7: 1.0;\n            gl_FragColor = vec4(v_color.rgb * visibility, v_color.a);\n        }\n    "}},183:function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));var o=function(t){var n,e,o;if(t&&"object"===typeof t&&t.hasOwnProperty("elements")){for(e=t.elements,o=new Float32Array(16),n=0;n<16;++n)o[n]=e[n];this.elements=o}else this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};o.prototype.setIdentity=function(){var t=this.elements;return t[0]=1,t[4]=0,t[8]=0,t[12]=0,t[1]=0,t[5]=1,t[9]=0,t[13]=0,t[2]=0,t[6]=0,t[10]=1,t[14]=0,t[3]=0,t[7]=0,t[11]=0,t[15]=1,this},o.prototype.set=function(t){var n,e,o;if((e=t.elements)!==(o=this.elements)){for(n=0;n<16;++n)o[n]=e[n];return this}},o.prototype.concat=function(t){var n,e,o,r,i,a,s,l;if(e=this.elements,o=this.elements,e===(r=t.elements))for(r=new Float32Array(16),n=0;n<16;++n)r[n]=e[n];for(n=0;n<4;n++)i=o[n],a=o[n+4],s=o[n+8],l=o[n+12],e[n]=i*r[0]+a*r[1]+s*r[2]+l*r[3],e[n+4]=i*r[4]+a*r[5]+s*r[6]+l*r[7],e[n+8]=i*r[8]+a*r[9]+s*r[10]+l*r[11],e[n+12]=i*r[12]+a*r[13]+s*r[14]+l*r[15];return this},o.prototype.multiply=o.prototype.concat,o.prototype.multiplyVector3=function(t){var n=this.elements,e=t.elements,o=new r,i=o.elements;return i[0]=e[0]*n[0]+e[1]*n[4]+e[2]*n[8]+n[12],i[1]=e[0]*n[1]+e[1]*n[5]+e[2]*n[9]+n[13],i[2]=e[0]*n[2]+e[1]*n[6]+e[2]*n[10]+n[14],o},o.prototype.multiplyVector4=function(t){var n=this.elements,e=t.elements,o=new i,r=o.elements;return r[0]=e[0]*n[0]+e[1]*n[4]+e[2]*n[8]+e[3]*n[12],r[1]=e[0]*n[1]+e[1]*n[5]+e[2]*n[9]+e[3]*n[13],r[2]=e[0]*n[2]+e[1]*n[6]+e[2]*n[10]+e[3]*n[14],r[3]=e[0]*n[3]+e[1]*n[7]+e[2]*n[11]+e[3]*n[15],o},o.prototype.transpose=function(){var t,n;return n=(t=this.elements)[1],t[1]=t[4],t[4]=n,n=t[2],t[2]=t[8],t[8]=n,n=t[3],t[3]=t[12],t[12]=n,n=t[6],t[6]=t[9],t[9]=n,n=t[7],t[7]=t[13],t[13]=n,n=t[11],t[11]=t[14],t[14]=n,this},o.prototype.setInverseOf=function(t){var n,e,o,r,i;if(e=t.elements,o=this.elements,(r=new Float32Array(16))[0]=e[5]*e[10]*e[15]-e[5]*e[11]*e[14]-e[9]*e[6]*e[15]+e[9]*e[7]*e[14]+e[13]*e[6]*e[11]-e[13]*e[7]*e[10],r[4]=-e[4]*e[10]*e[15]+e[4]*e[11]*e[14]+e[8]*e[6]*e[15]-e[8]*e[7]*e[14]-e[12]*e[6]*e[11]+e[12]*e[7]*e[10],r[8]=e[4]*e[9]*e[15]-e[4]*e[11]*e[13]-e[8]*e[5]*e[15]+e[8]*e[7]*e[13]+e[12]*e[5]*e[11]-e[12]*e[7]*e[9],r[12]=-e[4]*e[9]*e[14]+e[4]*e[10]*e[13]+e[8]*e[5]*e[14]-e[8]*e[6]*e[13]-e[12]*e[5]*e[10]+e[12]*e[6]*e[9],r[1]=-e[1]*e[10]*e[15]+e[1]*e[11]*e[14]+e[9]*e[2]*e[15]-e[9]*e[3]*e[14]-e[13]*e[2]*e[11]+e[13]*e[3]*e[10],r[5]=e[0]*e[10]*e[15]-e[0]*e[11]*e[14]-e[8]*e[2]*e[15]+e[8]*e[3]*e[14]+e[12]*e[2]*e[11]-e[12]*e[3]*e[10],r[9]=-e[0]*e[9]*e[15]+e[0]*e[11]*e[13]+e[8]*e[1]*e[15]-e[8]*e[3]*e[13]-e[12]*e[1]*e[11]+e[12]*e[3]*e[9],r[13]=e[0]*e[9]*e[14]-e[0]*e[10]*e[13]-e[8]*e[1]*e[14]+e[8]*e[2]*e[13]+e[12]*e[1]*e[10]-e[12]*e[2]*e[9],r[2]=e[1]*e[6]*e[15]-e[1]*e[7]*e[14]-e[5]*e[2]*e[15]+e[5]*e[3]*e[14]+e[13]*e[2]*e[7]-e[13]*e[3]*e[6],r[6]=-e[0]*e[6]*e[15]+e[0]*e[7]*e[14]+e[4]*e[2]*e[15]-e[4]*e[3]*e[14]-e[12]*e[2]*e[7]+e[12]*e[3]*e[6],r[10]=e[0]*e[5]*e[15]-e[0]*e[7]*e[13]-e[4]*e[1]*e[15]+e[4]*e[3]*e[13]+e[12]*e[1]*e[7]-e[12]*e[3]*e[5],r[14]=-e[0]*e[5]*e[14]+e[0]*e[6]*e[13]+e[4]*e[1]*e[14]-e[4]*e[2]*e[13]-e[12]*e[1]*e[6]+e[12]*e[2]*e[5],r[3]=-e[1]*e[6]*e[11]+e[1]*e[7]*e[10]+e[5]*e[2]*e[11]-e[5]*e[3]*e[10]-e[9]*e[2]*e[7]+e[9]*e[3]*e[6],r[7]=e[0]*e[6]*e[11]-e[0]*e[7]*e[10]-e[4]*e[2]*e[11]+e[4]*e[3]*e[10]+e[8]*e[2]*e[7]-e[8]*e[3]*e[6],r[11]=-e[0]*e[5]*e[11]+e[0]*e[7]*e[9]+e[4]*e[1]*e[11]-e[4]*e[3]*e[9]-e[8]*e[1]*e[7]+e[8]*e[3]*e[5],r[15]=e[0]*e[5]*e[10]-e[0]*e[6]*e[9]-e[4]*e[1]*e[10]+e[4]*e[2]*e[9]+e[8]*e[1]*e[6]-e[8]*e[2]*e[5],0===(i=e[0]*r[0]+e[1]*r[4]+e[2]*r[8]+e[3]*r[12]))return this;for(i=1/i,n=0;n<16;n++)o[n]=r[n]*i;return this},o.prototype.invert=function(){return this.setInverseOf(this)},o.prototype.setOrtho=function(t,n,e,o,r,i){var a,s,l,u;if(t===n||e===o||r===i)throw"null frustum";return s=1/(n-t),l=1/(o-e),u=1/(i-r),(a=this.elements)[0]=2*s,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2*l,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=-2*u,a[11]=0,a[12]=-(n+t)*s,a[13]=-(o+e)*l,a[14]=-(i+r)*u,a[15]=1,this},o.prototype.ortho=function(t,n,e,r,i,a){return this.concat((new o).setOrtho(t,n,e,r,i,a))},o.prototype.setFrustum=function(t,n,e,o,r,i){var a,s,l,u;if(t===n||o===e||r===i)throw"null frustum";if(r<=0)throw"near <= 0";if(i<=0)throw"far <= 0";return s=1/(n-t),l=1/(o-e),u=1/(i-r),(a=this.elements)[0]=2*r*s,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2*r*l,a[6]=0,a[7]=0,a[8]=(n+t)*s,a[9]=(o+e)*l,a[10]=-(i+r)*u,a[11]=-1,a[12]=0,a[13]=0,a[14]=-2*r*i*u,a[15]=0,this},o.prototype.frustum=function(t,n,e,r,i,a){return this.concat((new o).setFrustum(t,n,e,r,i,a))},o.prototype.setPerspective=function(t,n,e,o){var r,i,a,s;if(e===o||0===n)throw"null frustum";if(e<=0)throw"near <= 0";if(o<=0)throw"far <= 0";if(t=Math.PI*t/180/2,0===(a=Math.sin(t)))throw"null frustum";return i=1/(o-e),s=Math.cos(t)/a,(r=this.elements)[0]=s/n,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=s,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=-(o+e)*i,r[11]=-1,r[12]=0,r[13]=0,r[14]=-2*e*o*i,r[15]=0,this},o.prototype.perspective=function(t,n,e,r){return this.concat((new o).setPerspective(t,n,e,r))},o.prototype.setScale=function(t,n,e){var o=this.elements;return o[0]=t,o[4]=0,o[8]=0,o[12]=0,o[1]=0,o[5]=n,o[9]=0,o[13]=0,o[2]=0,o[6]=0,o[10]=e,o[14]=0,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},o.prototype.scale=function(t,n,e){var o=this.elements;return o[0]*=t,o[4]*=n,o[8]*=e,o[1]*=t,o[5]*=n,o[9]*=e,o[2]*=t,o[6]*=n,o[10]*=e,o[3]*=t,o[7]*=n,o[11]*=e,this},o.prototype.setTranslate=function(t,n,e){var o=this.elements;return o[0]=1,o[4]=0,o[8]=0,o[12]=t,o[1]=0,o[5]=1,o[9]=0,o[13]=n,o[2]=0,o[6]=0,o[10]=1,o[14]=e,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},o.prototype.translate=function(t,n,e){var o=this.elements;return o[12]+=o[0]*t+o[4]*n+o[8]*e,o[13]+=o[1]*t+o[5]*n+o[9]*e,o[14]+=o[2]*t+o[6]*n+o[10]*e,o[15]+=o[3]*t+o[7]*n+o[11]*e,this},o.prototype.setRotate=function(t,n,e,o){var r,i,a,s,l,u,c,h,f,v,p,m;return t=Math.PI*t/180,r=this.elements,i=Math.sin(t),a=Math.cos(t),0!==n&&0===e&&0===o?(n<0&&(i=-i),r[0]=1,r[4]=0,r[8]=0,r[12]=0,r[1]=0,r[5]=a,r[9]=-i,r[13]=0,r[2]=0,r[6]=i,r[10]=a,r[14]=0,r[3]=0,r[7]=0,r[11]=0,r[15]=1):0===n&&0!==e&&0===o?(e<0&&(i=-i),r[0]=a,r[4]=0,r[8]=i,r[12]=0,r[1]=0,r[5]=1,r[9]=0,r[13]=0,r[2]=-i,r[6]=0,r[10]=a,r[14]=0,r[3]=0,r[7]=0,r[11]=0,r[15]=1):0===n&&0===e&&0!==o?(o<0&&(i=-i),r[0]=a,r[4]=-i,r[8]=0,r[12]=0,r[1]=i,r[5]=a,r[9]=0,r[13]=0,r[2]=0,r[6]=0,r[10]=1,r[14]=0,r[3]=0,r[7]=0,r[11]=0,r[15]=1):(1!==(s=Math.sqrt(n*n+e*e+o*o))&&(n*=l=1/s,e*=l,o*=l),u=1-a,c=n*e,h=e*o,f=o*n,v=n*i,p=e*i,m=o*i,r[0]=n*n*u+a,r[1]=c*u+m,r[2]=f*u-p,r[3]=0,r[4]=c*u-m,r[5]=e*e*u+a,r[6]=h*u+v,r[7]=0,r[8]=f*u+p,r[9]=h*u-v,r[10]=o*o*u+a,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1),this},o.prototype.rotate=function(t,n,e,r){return this.concat((new o).setRotate(t,n,e,r))},o.prototype.setLookAt=function(t,n,e,o,r,i,a,s,l){var u,c,h,f,v,p,m,d,_,g,y,w;return c=o-t,h=r-n,f=i-e,p=(h*=v=1/Math.sqrt(c*c+h*h+f*f))*l-(f*=v)*s,m=f*a-(c*=v)*l,d=c*s-h*a,g=(m*=_=1/Math.sqrt(p*p+m*m+d*d))*f-(d*=_)*h,y=d*c-(p*=_)*f,w=p*h-m*c,(u=this.elements)[0]=p,u[1]=g,u[2]=-c,u[3]=0,u[4]=m,u[5]=y,u[6]=-h,u[7]=0,u[8]=d,u[9]=w,u[10]=-f,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,this.translate(-t,-n,-e)},o.prototype.lookAt=function(t,n,e,r,i,a,s,l,u){return this.concat((new o).setLookAt(t,n,e,r,i,a,s,l,u))},o.prototype.dropShadow=function(t,n){var e=new o,r=e.elements,i=t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3];return r[0]=i-n[0]*t[0],r[1]=-n[1]*t[0],r[2]=-n[2]*t[0],r[3]=-n[3]*t[0],r[4]=-n[0]*t[1],r[5]=i-n[1]*t[1],r[6]=-n[2]*t[1],r[7]=-n[3]*t[1],r[8]=-n[0]*t[2],r[9]=-n[1]*t[2],r[10]=i-n[2]*t[2],r[11]=-n[3]*t[2],r[12]=-n[0]*t[3],r[13]=-n[1]*t[3],r[14]=-n[2]*t[3],r[15]=i-n[3]*t[3],this.concat(e)},o.prototype.dropShadowDirectionally=function(t,n,e,o,r,i,a,s,l){var u=o*t+r*n+i*e;return this.dropShadow([t,n,e,-u],[a,s,l,0])};var r=function(t){var n=new Float32Array(3);t&&"object"===typeof t&&(n[0]=t[0],n[1]=t[1],n[2]=t[2]),this.elements=n};r.prototype.normalize=function(){var t=this.elements,n=t[0],e=t[1],o=t[2],r=Math.sqrt(n*n+e*e+o*o);return r?1==r?this:(r=1/r,t[0]=n*r,t[1]=e*r,t[2]=o*r,this):(t[0]=0,t[1]=0,t[2]=0,this)};var i=function(t){var n=new Float32Array(4);t&&"object"===typeof t&&(n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3]),this.elements=n}},187:function(t,n,e){"use strict";var o={vertex:[-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,1,-1,-1,1,1,-1,-1,1,-1],indices:[0,3,2,0,1,2,1,2,5,2,5,6,2,3,6,3,6,7,0,3,4,3,4,7,0,1,4,1,4,5,4,5,6,4,6,7],unit:3};n.a=o},192:function(t,n,e){"use strict";e.r(n),e.d(n,"default",(function(){return l}));var o=e(178),r=e(177),i=e(187),a=e(181),s=e(183);function l(t){var n;this.canvasContainer=t.current,this.createCanvas(this.canvasContainer.clientWidth,this.canvasContainer.clientHeight).appendCanvas().getWebglContext(),(n=this.gl).clearColor.apply(n,Object(o.a)(r.b)),this.gl.enable(this.gl.DEPTH_TEST),this.initShader(a.a),u.call(this);var e=new s.a;e.setScale(10,10,10),this.fillUniformData(e.elements,"u_modelMatrix",4,"Matrix");var l=new Float32Array(this.getRandomArray(4)),h=new Float32Array([55,80]),f=new Float32Array([25,65,35,1]);this.fillUniformData(l,"u_fogColor",4),this.fillUniformData(h,"u_fogDist",2),this.fillUniformData(f,"u_eye",4);var v=new s.a;v.setPerspective(30,this.ele.width/this.ele.height,1,1e3),v.lookAt(f[0],f[1],f[2],0,2,0,0,1,0),v.multiply(e),this.fillUniformData(v.elements,"u_mvpMatrix",4,"Matrix"),this.gl.clear(this.gl.DEPTH_BUFFER_BIT|this.gl.COLOR_BUFFER_BIT),this.gl.drawElements(this.gl.TRIANGLES,i.a.indices.length,this.gl.UNSIGNED_BYTE,0),document.addEventListener("keydown",c.bind(this,h))}function u(){var t=new Float32Array(i.a.vertex),n=t.length/i.a.unit,e=new Uint8Array(i.a.indices),o=new Float32Array(this.getRandomArray(4*n));this.fillShaderAttribution(t,"a_position",i.a.unit),this.fillShaderAttribution(o,"a_color",4),this.fillElementsIndex(e)}function c(t,n){switch(n.keyCode){case 38:t[1]+=1;break;case 40:t[0]<t[1]&&(t[1]-=1)}this.fillUniformData(t,"u_fogDist",2),this.gl.clear(this.gl.DEPTH_BUFFER_BIT|this.gl.COLOR_BUFFER_BIT),this.gl.drawElements(this.gl.TRIANGLES,i.a.indices.length,this.gl.UNSIGNED_BYTE,0)}}}]);