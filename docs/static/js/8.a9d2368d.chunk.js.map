{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webgl_page/material/cube.js","utils/matrix_lib.js","config/shader.js","webgl_page/source_shader/webglGuide/index.js","webgl_page/shader/fog.js"],"names":["_toConsumableArray","arr","Array","isArray","i","arr2","length","iter","Symbol","iterator","Object","prototype","toString","call","from","TypeError","cube","vertex","indices","unit","Matrix4","opt_src","s","d","hasOwnProperty","elements","Float32Array","this","setIdentity","e","set","src","concat","other","a","b","ai0","ai1","ai2","ai3","multiply","multiplyVector3","pos","p","v","Vector3","result","multiplyVector4","Vector4","transpose","t","setInverseOf","inv","det","invert","setOrtho","left","right","bottom","top","near","far","rw","rh","rd","ortho","setFrustum","frustum","setPerspective","fovy","aspect","ct","Math","PI","sin","cos","perspective","setScale","x","y","z","scale","setTranslate","translate","setRotate","angle","c","len","rlen","nc","xy","yz","zx","xs","ys","zs","sqrt","rotate","setLookAt","eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","fx","fy","fz","rlf","sx","sy","sz","rls","ux","uy","uz","lookAt","dropShadow","plane","light","mat","dot","dropShadowDirectionally","normX","normY","normZ","planeX","planeY","planeZ","lightX","lightY","lightZ","normalize","g","clearColor","fogShaderSource","vshader","fshader","fog","ele","canvasContainer","current","createCanvas","clientWidth","clientHeight","appendCanvas","getWebglContext","gl","enable","DEPTH_TEST","initShader","model","modelMatrix","fillUniformData","fogColor","getRandomArray","fogDist","eye","mvpMatrix","width","height","clear","DEPTH_BUFFER_BIT","COLOR_BUFFER_BIT","drawElements","TRIANGLES","UNSIGNED_BYTE","document","addEventListener","keydown","bind","pointNum","Uint8Array","color","fillShaderAttribution","fillElementsIndex","ev","keyCode"],"mappings":"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","file":"static/js/8.a9d2368d.chunk.js","sourcesContent":["import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","//    v7----- v6\n//   /|      /|\n//  v3------v2|\n//  | |     | |\n//  | |v4---|-|v5\n//  |/      |/\n//  v0------v1\n\nlet sideLength = 1.0;\nlet cube = {\n    vertex: [\n        -sideLength, -sideLength, sideLength,\n        sideLength, -sideLength, sideLength,\n        sideLength, sideLength, sideLength,\n        -sideLength, sideLength, sideLength,\n        -sideLength, -sideLength, -sideLength,\n        sideLength, -sideLength, -sideLength,\n        sideLength, sideLength, -sideLength,\n        -sideLength, sideLength, -sideLength,\n\n    ],\n    indices: [\n        0, 3, 2, 0, 1, 2,\n        1, 2, 5, 2, 5, 6,\n        2, 3, 6, 3, 6, 7,\n        0, 3, 4, 3, 4, 7,\n        0, 1, 4, 1, 4, 5,\n        4, 5, 6, 4, 6, 7\n    ],\n    unit: 3\n}\n\nexport default cube;","// cuon-matrix.js (c) 2012 kanda and matsuda\n/** \n * This is a class treating 4x4 matrix.\n * This class contains the function that is equivalent to OpenGL matrix stack.\n * The matrix after conversion is calculated by multiplying a conversion matrix from the right.\n * The matrix is replaced by the calculated result.\n */\n\n/**\n * Constructor of Matrix4\n * If opt_src is specified, new matrix is initialized by opt_src.\n * Otherwise, new matrix is initialized by identity matrix.\n * @param opt_src source matrix(option)\n */\nexport var Matrix4 = function(opt_src) {\n  var i, s, d;\n  if (opt_src && typeof opt_src === 'object' && opt_src.hasOwnProperty('elements')) {\n    s = opt_src.elements;\n    d = new Float32Array(16);\n    for (i = 0; i < 16; ++i) {\n      d[i] = s[i];\n    }\n    this.elements = d;\n  } else {\n    this.elements = new Float32Array([1,0,0,0, 0,1,0,0, 0,0,1,0, 0,0,0,1]);\n  }\n};\n\n/**\n * Set the identity matrix.\n * @return this\n */\nMatrix4.prototype.setIdentity = function() {\n  var e = this.elements;\n  e[0] = 1;   e[4] = 0;   e[8]  = 0;   e[12] = 0;\n  e[1] = 0;   e[5] = 1;   e[9]  = 0;   e[13] = 0;\n  e[2] = 0;   e[6] = 0;   e[10] = 1;   e[14] = 0;\n  e[3] = 0;   e[7] = 0;   e[11] = 0;   e[15] = 1;\n  return this;\n};\n\n/**\n * Copy matrix.\n * @param src source matrix\n * @return this\n */\nMatrix4.prototype.set = function(src) {\n  var i, s, d;\n\n  s = src.elements;\n  d = this.elements;\n\n  if (s === d) {\n    return;\n  }\n    \n  for (i = 0; i < 16; ++i) {\n    d[i] = s[i];\n  }\n\n  return this;\n};\n\n/**\n * Multiply the matrix from the right.\n * @param other The multiply matrix\n * @return this\n */\nMatrix4.prototype.concat = function(other) {\n  var i, e, a, b, ai0, ai1, ai2, ai3;\n  \n  // Calculate e = a * b\n  e = this.elements;\n  a = this.elements;\n  b = other.elements;\n  \n  // If e equals b, copy b to temporary matrix.\n  if (e === b) {\n    b = new Float32Array(16);\n    for (i = 0; i < 16; ++i) {\n      b[i] = e[i];\n    }\n  }\n  \n  for (i = 0; i < 4; i++) {\n    ai0=a[i];  ai1=a[i+4];  ai2=a[i+8];  ai3=a[i+12];\n    e[i]    = ai0 * b[0]  + ai1 * b[1]  + ai2 * b[2]  + ai3 * b[3];\n    e[i+4]  = ai0 * b[4]  + ai1 * b[5]  + ai2 * b[6]  + ai3 * b[7];\n    e[i+8]  = ai0 * b[8]  + ai1 * b[9]  + ai2 * b[10] + ai3 * b[11];\n    e[i+12] = ai0 * b[12] + ai1 * b[13] + ai2 * b[14] + ai3 * b[15];\n  }\n  \n  return this;\n};\nMatrix4.prototype.multiply = Matrix4.prototype.concat;\n\n/**\n * Multiply the three-dimensional vector.\n * @param pos  The multiply vector\n * @return The result of multiplication(Float32Array)\n */\nMatrix4.prototype.multiplyVector3 = function(pos) {\n  var e = this.elements;\n  var p = pos.elements;\n  var v = new Vector3();\n  var result = v.elements;\n\n  result[0] = p[0] * e[0] + p[1] * e[4] + p[2] * e[ 8] + e[12];\n  result[1] = p[0] * e[1] + p[1] * e[5] + p[2] * e[ 9] + e[13];\n  result[2] = p[0] * e[2] + p[1] * e[6] + p[2] * e[10] + e[14];\n\n  return v;\n};\n\n/**\n * Multiply the four-dimensional vector.\n * @param pos  The multiply vector\n * @return The result of multiplication(Float32Array)\n */\nMatrix4.prototype.multiplyVector4 = function(pos) {\n  var e = this.elements;\n  var p = pos.elements;\n  var v = new Vector4();\n  var result = v.elements;\n\n  result[0] = p[0] * e[0] + p[1] * e[4] + p[2] * e[ 8] + p[3] * e[12];\n  result[1] = p[0] * e[1] + p[1] * e[5] + p[2] * e[ 9] + p[3] * e[13];\n  result[2] = p[0] * e[2] + p[1] * e[6] + p[2] * e[10] + p[3] * e[14];\n  result[3] = p[0] * e[3] + p[1] * e[7] + p[2] * e[11] + p[3] * e[15];\n\n  return v;\n};\n\n/**\n * Transpose the matrix.\n * @return this\n */\nMatrix4.prototype.transpose = function() {\n  var e, t;\n\n  e = this.elements;\n\n  t = e[ 1];  e[ 1] = e[ 4];  e[ 4] = t;\n  t = e[ 2];  e[ 2] = e[ 8];  e[ 8] = t;\n  t = e[ 3];  e[ 3] = e[12];  e[12] = t;\n  t = e[ 6];  e[ 6] = e[ 9];  e[ 9] = t;\n  t = e[ 7];  e[ 7] = e[13];  e[13] = t;\n  t = e[11];  e[11] = e[14];  e[14] = t;\n\n  return this;\n};\n\n/**\n * Calculate the inverse matrix of specified matrix, and set to this.\n * @param other The source matrix\n * @return this\n */\nMatrix4.prototype.setInverseOf = function(other) {\n  var i, s, d, inv, det;\n\n  s = other.elements;\n  d = this.elements;\n  inv = new Float32Array(16);\n\n  inv[0]  =   s[5]*s[10]*s[15] - s[5] *s[11]*s[14] - s[9] *s[6]*s[15]\n            + s[9]*s[7] *s[14] + s[13]*s[6] *s[11] - s[13]*s[7]*s[10];\n  inv[4]  = - s[4]*s[10]*s[15] + s[4] *s[11]*s[14] + s[8] *s[6]*s[15]\n            - s[8]*s[7] *s[14] - s[12]*s[6] *s[11] + s[12]*s[7]*s[10];\n  inv[8]  =   s[4]*s[9] *s[15] - s[4] *s[11]*s[13] - s[8] *s[5]*s[15]\n            + s[8]*s[7] *s[13] + s[12]*s[5] *s[11] - s[12]*s[7]*s[9];\n  inv[12] = - s[4]*s[9] *s[14] + s[4] *s[10]*s[13] + s[8] *s[5]*s[14]\n            - s[8]*s[6] *s[13] - s[12]*s[5] *s[10] + s[12]*s[6]*s[9];\n\n  inv[1]  = - s[1]*s[10]*s[15] + s[1] *s[11]*s[14] + s[9] *s[2]*s[15]\n            - s[9]*s[3] *s[14] - s[13]*s[2] *s[11] + s[13]*s[3]*s[10];\n  inv[5]  =   s[0]*s[10]*s[15] - s[0] *s[11]*s[14] - s[8] *s[2]*s[15]\n            + s[8]*s[3] *s[14] + s[12]*s[2] *s[11] - s[12]*s[3]*s[10];\n  inv[9]  = - s[0]*s[9] *s[15] + s[0] *s[11]*s[13] + s[8] *s[1]*s[15]\n            - s[8]*s[3] *s[13] - s[12]*s[1] *s[11] + s[12]*s[3]*s[9];\n  inv[13] =   s[0]*s[9] *s[14] - s[0] *s[10]*s[13] - s[8] *s[1]*s[14]\n            + s[8]*s[2] *s[13] + s[12]*s[1] *s[10] - s[12]*s[2]*s[9];\n\n  inv[2]  =   s[1]*s[6]*s[15] - s[1] *s[7]*s[14] - s[5] *s[2]*s[15]\n            + s[5]*s[3]*s[14] + s[13]*s[2]*s[7]  - s[13]*s[3]*s[6];\n  inv[6]  = - s[0]*s[6]*s[15] + s[0] *s[7]*s[14] + s[4] *s[2]*s[15]\n            - s[4]*s[3]*s[14] - s[12]*s[2]*s[7]  + s[12]*s[3]*s[6];\n  inv[10] =   s[0]*s[5]*s[15] - s[0] *s[7]*s[13] - s[4] *s[1]*s[15]\n            + s[4]*s[3]*s[13] + s[12]*s[1]*s[7]  - s[12]*s[3]*s[5];\n  inv[14] = - s[0]*s[5]*s[14] + s[0] *s[6]*s[13] + s[4] *s[1]*s[14]\n            - s[4]*s[2]*s[13] - s[12]*s[1]*s[6]  + s[12]*s[2]*s[5];\n\n  inv[3]  = - s[1]*s[6]*s[11] + s[1]*s[7]*s[10] + s[5]*s[2]*s[11]\n            - s[5]*s[3]*s[10] - s[9]*s[2]*s[7]  + s[9]*s[3]*s[6];\n  inv[7]  =   s[0]*s[6]*s[11] - s[0]*s[7]*s[10] - s[4]*s[2]*s[11]\n            + s[4]*s[3]*s[10] + s[8]*s[2]*s[7]  - s[8]*s[3]*s[6];\n  inv[11] = - s[0]*s[5]*s[11] + s[0]*s[7]*s[9]  + s[4]*s[1]*s[11]\n            - s[4]*s[3]*s[9]  - s[8]*s[1]*s[7]  + s[8]*s[3]*s[5];\n  inv[15] =   s[0]*s[5]*s[10] - s[0]*s[6]*s[9]  - s[4]*s[1]*s[10]\n            + s[4]*s[2]*s[9]  + s[8]*s[1]*s[6]  - s[8]*s[2]*s[5];\n\n  det = s[0]*inv[0] + s[1]*inv[4] + s[2]*inv[8] + s[3]*inv[12];\n  if (det === 0) {\n    return this;\n  }\n\n  det = 1 / det;\n  for (i = 0; i < 16; i++) {\n    d[i] = inv[i] * det;\n  }\n\n  return this;\n};\n\n/**\n * Calculate the inverse matrix of this, and set to this.\n * @return this\n */\nMatrix4.prototype.invert = function() {\n  return this.setInverseOf(this);\n};\n\n/**\n * Set the orthographic projection matrix.\n * @param left The coordinate of the left of clipping plane.\n * @param right The coordinate of the right of clipping plane.\n * @param bottom The coordinate of the bottom of clipping plane.\n * @param top The coordinate of the top top clipping plane.\n * @param near The distances to the nearer depth clipping plane. This value is minus if the plane is to be behind the viewer.\n * @param far The distances to the farther depth clipping plane. This value is minus if the plane is to be behind the viewer.\n * @return this\n */\nMatrix4.prototype.setOrtho = function(left, right, bottom, top, near, far) {\n  var e, rw, rh, rd;\n\n  if (left === right || bottom === top || near === far) {\n    throw 'null frustum';\n  }\n\n  rw = 1 / (right - left);\n  rh = 1 / (top - bottom);\n  rd = 1 / (far - near);\n\n  e = this.elements;\n\n  e[0]  = 2 * rw;\n  e[1]  = 0;\n  e[2]  = 0;\n  e[3]  = 0;\n\n  e[4]  = 0;\n  e[5]  = 2 * rh;\n  e[6]  = 0;\n  e[7]  = 0;\n\n  e[8]  = 0;\n  e[9]  = 0;\n  e[10] = -2 * rd;\n  e[11] = 0;\n\n  e[12] = -(right + left) * rw;\n  e[13] = -(top + bottom) * rh;\n  e[14] = -(far + near) * rd;\n  e[15] = 1;\n\n  return this;\n};\n\n/**\n * Multiply the orthographic projection matrix from the right.\n * @param left The coordinate of the left of clipping plane.\n * @param right The coordinate of the right of clipping plane.\n * @param bottom The coordinate of the bottom of clipping plane.\n * @param top The coordinate of the top top clipping plane.\n * @param near The distances to the nearer depth clipping plane. This value is minus if the plane is to be behind the viewer.\n * @param far The distances to the farther depth clipping plane. This value is minus if the plane is to be behind the viewer.\n * @return this\n */\nMatrix4.prototype.ortho = function(left, right, bottom, top, near, far) {\n  return this.concat(new Matrix4().setOrtho(left, right, bottom, top, near, far));\n};\n\n/**\n * Set the perspective projection matrix.\n * @param left The coordinate of the left of clipping plane.\n * @param right The coordinate of the right of clipping plane.\n * @param bottom The coordinate of the bottom of clipping plane.\n * @param top The coordinate of the top top clipping plane.\n * @param near The distances to the nearer depth clipping plane. This value must be plus value.\n * @param far The distances to the farther depth clipping plane. This value must be plus value.\n * @return this\n */\nMatrix4.prototype.setFrustum = function(left, right, bottom, top, near, far) {\n  var e, rw, rh, rd;\n\n  if (left === right || top === bottom || near === far) {\n    throw 'null frustum';\n  }\n  if (near <= 0) {\n    throw 'near <= 0';\n  }\n  if (far <= 0) {\n    throw 'far <= 0';\n  }\n\n  rw = 1 / (right - left);\n  rh = 1 / (top - bottom);\n  rd = 1 / (far - near);\n\n  e = this.elements;\n\n  e[ 0] = 2 * near * rw;\n  e[ 1] = 0;\n  e[ 2] = 0;\n  e[ 3] = 0;\n\n  e[ 4] = 0;\n  e[ 5] = 2 * near * rh;\n  e[ 6] = 0;\n  e[ 7] = 0;\n\n  e[ 8] = (right + left) * rw;\n  e[ 9] = (top + bottom) * rh;\n  e[10] = -(far + near) * rd;\n  e[11] = -1;\n\n  e[12] = 0;\n  e[13] = 0;\n  e[14] = -2 * near * far * rd;\n  e[15] = 0;\n\n  return this;\n};\n\n/**\n * Multiply the perspective projection matrix from the right.\n * @param left The coordinate of the left of clipping plane.\n * @param right The coordinate of the right of clipping plane.\n * @param bottom The coordinate of the bottom of clipping plane.\n * @param top The coordinate of the top top clipping plane.\n * @param near The distances to the nearer depth clipping plane. This value must be plus value.\n * @param far The distances to the farther depth clipping plane. This value must be plus value.\n * @return this\n */\nMatrix4.prototype.frustum = function(left, right, bottom, top, near, far) {\n  return this.concat(new Matrix4().setFrustum(left, right, bottom, top, near, far));\n};\n\n/**\n * Set the perspective projection matrix by fovy and aspect.\n * @param fovy The angle between the upper and lower sides of the frustum.\n * @param aspect The aspect ratio of the frustum. (width/height)\n * @param near The distances to the nearer depth clipping plane. This value must be plus value.\n * @param far The distances to the farther depth clipping plane. This value must be plus value.\n * @return this\n */\nMatrix4.prototype.setPerspective = function(fovy, aspect, near, far) {\n  var e, rd, s, ct;\n\n  if (near === far || aspect === 0) {\n    throw 'null frustum';\n  }\n  if (near <= 0) {\n    throw 'near <= 0';\n  }\n  if (far <= 0) {\n    throw 'far <= 0';\n  }\n\n  fovy = Math.PI * fovy / 180 / 2;\n  s = Math.sin(fovy);\n  if (s === 0) {\n    throw 'null frustum';\n  }\n\n  rd = 1 / (far - near);\n  ct = Math.cos(fovy) / s;\n\n  e = this.elements;\n\n  e[0]  = ct / aspect;\n  e[1]  = 0;\n  e[2]  = 0;\n  e[3]  = 0;\n\n  e[4]  = 0;\n  e[5]  = ct;\n  e[6]  = 0;\n  e[7]  = 0;\n\n  e[8]  = 0;\n  e[9]  = 0;\n  e[10] = -(far + near) * rd;\n  e[11] = -1;\n\n  e[12] = 0;\n  e[13] = 0;\n  e[14] = -2 * near * far * rd;\n  e[15] = 0;\n\n  return this;\n};\n\n/**\n * Multiply the perspective projection matrix from the right.\n * @param fovy The angle between the upper and lower sides of the frustum.\n * @param aspect The aspect ratio of the frustum. (width/height)\n * @param near The distances to the nearer depth clipping plane. This value must be plus value.\n * @param far The distances to the farther depth clipping plane. This value must be plus value.\n * @return this\n */\nMatrix4.prototype.perspective = function(fovy, aspect, near, far) {\n  return this.concat(new Matrix4().setPerspective(fovy, aspect, near, far));\n};\n\n/**\n * Set the matrix for scaling.\n * @param x The scale factor along the X axis\n * @param y The scale factor along the Y axis\n * @param z The scale factor along the Z axis\n * @return this\n */\nMatrix4.prototype.setScale = function(x, y, z) {\n  var e = this.elements;\n  e[0] = x;  e[4] = 0;  e[8]  = 0;  e[12] = 0;\n  e[1] = 0;  e[5] = y;  e[9]  = 0;  e[13] = 0;\n  e[2] = 0;  e[6] = 0;  e[10] = z;  e[14] = 0;\n  e[3] = 0;  e[7] = 0;  e[11] = 0;  e[15] = 1;\n  return this;\n};\n\n/**\n * Multiply the matrix for scaling from the right.\n * @param x The scale factor along the X axis\n * @param y The scale factor along the Y axis\n * @param z The scale factor along the Z axis\n * @return this\n */\nMatrix4.prototype.scale = function(x, y, z) {\n  var e = this.elements;\n  e[0] *= x;  e[4] *= y;  e[8]  *= z;\n  e[1] *= x;  e[5] *= y;  e[9]  *= z;\n  e[2] *= x;  e[6] *= y;  e[10] *= z;\n  e[3] *= x;  e[7] *= y;  e[11] *= z;\n  return this;\n};\n\n/**\n * Set the matrix for translation.\n * @param x The X value of a translation.\n * @param y The Y value of a translation.\n * @param z The Z value of a translation.\n * @return this\n */\nMatrix4.prototype.setTranslate = function(x, y, z) {\n  var e = this.elements;\n  e[0] = 1;  e[4] = 0;  e[8]  = 0;  e[12] = x;\n  e[1] = 0;  e[5] = 1;  e[9]  = 0;  e[13] = y;\n  e[2] = 0;  e[6] = 0;  e[10] = 1;  e[14] = z;\n  e[3] = 0;  e[7] = 0;  e[11] = 0;  e[15] = 1;\n  return this;\n};\n\n/**\n * Multiply the matrix for translation from the right.\n * @param x The X value of a translation.\n * @param y The Y value of a translation.\n * @param z The Z value of a translation.\n * @return this\n */\nMatrix4.prototype.translate = function(x, y, z) {\n  var e = this.elements;\n  e[12] += e[0] * x + e[4] * y + e[8]  * z;\n  e[13] += e[1] * x + e[5] * y + e[9]  * z;\n  e[14] += e[2] * x + e[6] * y + e[10] * z;\n  e[15] += e[3] * x + e[7] * y + e[11] * z;\n  return this;\n};\n\n/**\n * Set the matrix for rotation.\n * The vector of rotation axis may not be normalized.\n * @param angle The angle of rotation (degrees)\n * @param x The X coordinate of vector of rotation axis.\n * @param y The Y coordinate of vector of rotation axis.\n * @param z The Z coordinate of vector of rotation axis.\n * @return this\n */\nMatrix4.prototype.setRotate = function(angle, x, y, z) {\n  var e, s, c, len, rlen, nc, xy, yz, zx, xs, ys, zs;\n\n  angle = Math.PI * angle / 180;\n  e = this.elements;\n\n  s = Math.sin(angle);\n  c = Math.cos(angle);\n\n  if (0 !== x && 0 === y && 0 === z) {\n    // Rotation around X axis\n    if (x < 0) {\n      s = -s;\n    }\n    e[0] = 1;  e[4] = 0;  e[ 8] = 0;  e[12] = 0;\n    e[1] = 0;  e[5] = c;  e[ 9] =-s;  e[13] = 0;\n    e[2] = 0;  e[6] = s;  e[10] = c;  e[14] = 0;\n    e[3] = 0;  e[7] = 0;  e[11] = 0;  e[15] = 1;\n  } else if (0 === x && 0 !== y && 0 === z) {\n    // Rotation around Y axis\n    if (y < 0) {\n      s = -s;\n    }\n    e[0] = c;  e[4] = 0;  e[ 8] = s;  e[12] = 0;\n    e[1] = 0;  e[5] = 1;  e[ 9] = 0;  e[13] = 0;\n    e[2] =-s;  e[6] = 0;  e[10] = c;  e[14] = 0;\n    e[3] = 0;  e[7] = 0;  e[11] = 0;  e[15] = 1;\n  } else if (0 === x && 0 === y && 0 !== z) {\n    // Rotation around Z axis\n    if (z < 0) {\n      s = -s;\n    }\n    e[0] = c;  e[4] =-s;  e[ 8] = 0;  e[12] = 0;\n    e[1] = s;  e[5] = c;  e[ 9] = 0;  e[13] = 0;\n    e[2] = 0;  e[6] = 0;  e[10] = 1;  e[14] = 0;\n    e[3] = 0;  e[7] = 0;  e[11] = 0;  e[15] = 1;\n  } else {\n    // Rotation around another axis\n    len = Math.sqrt(x*x + y*y + z*z);\n    if (len !== 1) {\n      rlen = 1 / len;\n      x *= rlen;\n      y *= rlen;\n      z *= rlen;\n    }\n    nc = 1 - c;\n    xy = x * y;\n    yz = y * z;\n    zx = z * x;\n    xs = x * s;\n    ys = y * s;\n    zs = z * s;\n\n    e[ 0] = x*x*nc +  c;\n    e[ 1] = xy *nc + zs;\n    e[ 2] = zx *nc - ys;\n    e[ 3] = 0;\n\n    e[ 4] = xy *nc - zs;\n    e[ 5] = y*y*nc +  c;\n    e[ 6] = yz *nc + xs;\n    e[ 7] = 0;\n\n    e[ 8] = zx *nc + ys;\n    e[ 9] = yz *nc - xs;\n    e[10] = z*z*nc +  c;\n    e[11] = 0;\n\n    e[12] = 0;\n    e[13] = 0;\n    e[14] = 0;\n    e[15] = 1;\n  }\n\n  return this;\n};\n\n/**\n * Multiply the matrix for rotation from the right.\n * The vector of rotation axis may not be normalized.\n * @param angle The angle of rotation (degrees)\n * @param x The X coordinate of vector of rotation axis.\n * @param y The Y coordinate of vector of rotation axis.\n * @param z The Z coordinate of vector of rotation axis.\n * @return this\n */\nMatrix4.prototype.rotate = function(angle, x, y, z) {\n  return this.concat(new Matrix4().setRotate(angle, x, y, z));\n};\n\n/**\n * Set the viewing matrix.\n * @param eyeX, eyeY, eyeZ The position of the eye point.\n * @param centerX, centerY, centerZ The position of the reference point.\n * @param upX, upY, upZ The direction of the up vector.\n * @return this\n */\nMatrix4.prototype.setLookAt = function(eyeX, eyeY, eyeZ, centerX, centerY, centerZ, upX, upY, upZ) {\n  var e, fx, fy, fz, rlf, sx, sy, sz, rls, ux, uy, uz;\n\n  fx = centerX - eyeX;\n  fy = centerY - eyeY;\n  fz = centerZ - eyeZ;\n\n  // Normalize f.\n  rlf = 1 / Math.sqrt(fx*fx + fy*fy + fz*fz);\n  fx *= rlf;\n  fy *= rlf;\n  fz *= rlf;\n\n  // Calculate cross product of f and up.\n  sx = fy * upZ - fz * upY;\n  sy = fz * upX - fx * upZ;\n  sz = fx * upY - fy * upX;\n\n  // Normalize s.\n  rls = 1 / Math.sqrt(sx*sx + sy*sy + sz*sz);\n  sx *= rls;\n  sy *= rls;\n  sz *= rls;\n\n  // Calculate cross product of s and f.\n  ux = sy * fz - sz * fy;\n  uy = sz * fx - sx * fz;\n  uz = sx * fy - sy * fx;\n\n  // Set to this.\n  e = this.elements;\n  e[0] = sx;\n  e[1] = ux;\n  e[2] = -fx;\n  e[3] = 0;\n\n  e[4] = sy;\n  e[5] = uy;\n  e[6] = -fy;\n  e[7] = 0;\n\n  e[8] = sz;\n  e[9] = uz;\n  e[10] = -fz;\n  e[11] = 0;\n\n  e[12] = 0;\n  e[13] = 0;\n  e[14] = 0;\n  e[15] = 1;\n\n  // Translate.\n  return this.translate(-eyeX, -eyeY, -eyeZ);\n};\n\n/**\n * Multiply the viewing matrix from the right.\n * @param eyeX, eyeY, eyeZ The position of the eye point.\n * @param centerX, centerY, centerZ The position of the reference point.\n * @param upX, upY, upZ The direction of the up vector.\n * @return this\n */\nMatrix4.prototype.lookAt = function(eyeX, eyeY, eyeZ, centerX, centerY, centerZ, upX, upY, upZ) {\n  return this.concat(new Matrix4().setLookAt(eyeX, eyeY, eyeZ, centerX, centerY, centerZ, upX, upY, upZ));\n};\n\n/**\n * Multiply the matrix for project vertex to plane from the right.\n * @param plane The array[A, B, C, D] of the equation of plane \"Ax + By + Cz + D = 0\".\n * @param light The array which stored coordinates of the light. if light[3]=0, treated as parallel light.\n * @return this\n */\nMatrix4.prototype.dropShadow = function(plane, light) {\n  var mat = new Matrix4();\n  var e = mat.elements;\n\n  var dot = plane[0] * light[0] + plane[1] * light[1] + plane[2] * light[2] + plane[3] * light[3];\n\n  e[ 0] = dot - light[0] * plane[0];\n  e[ 1] =     - light[1] * plane[0];\n  e[ 2] =     - light[2] * plane[0];\n  e[ 3] =     - light[3] * plane[0];\n\n  e[ 4] =     - light[0] * plane[1];\n  e[ 5] = dot - light[1] * plane[1];\n  e[ 6] =     - light[2] * plane[1];\n  e[ 7] =     - light[3] * plane[1];\n\n  e[ 8] =     - light[0] * plane[2];\n  e[ 9] =     - light[1] * plane[2];\n  e[10] = dot - light[2] * plane[2];\n  e[11] =     - light[3] * plane[2];\n\n  e[12] =     - light[0] * plane[3];\n  e[13] =     - light[1] * plane[3];\n  e[14] =     - light[2] * plane[3];\n  e[15] = dot - light[3] * plane[3];\n\n  return this.concat(mat);\n}\n\n/**\n * Multiply the matrix for project vertex to plane from the right.(Projected by parallel light.)\n * @param normX, normY, normZ The normal vector of the plane.(Not necessary to be normalized.)\n * @param planeX, planeY, planeZ The coordinate of arbitrary points on a plane.\n * @param lightX, lightY, lightZ The vector of the direction of light.(Not necessary to be normalized.)\n * @return this\n */\nMatrix4.prototype.dropShadowDirectionally = function(normX, normY, normZ, planeX, planeY, planeZ, lightX, lightY, lightZ) {\n  var a = planeX * normX + planeY * normY + planeZ * normZ;\n  return this.dropShadow([normX, normY, normZ, -a], [lightX, lightY, lightZ, 0]);\n};\n\n/**\n * Constructor of Vector3\n * If opt_src is specified, new vector is initialized by opt_src.\n * @param opt_src source vector(option)\n */\nvar Vector3 = function(opt_src) {\n  var v = new Float32Array(3);\n  if (opt_src && typeof opt_src === 'object') {\n    v[0] = opt_src[0]; v[1] = opt_src[1]; v[2] = opt_src[2];\n  } \n  this.elements = v;\n}\n\n/**\n  * Normalize.\n  * @return this\n  */\nVector3.prototype.normalize = function() {\n  var v = this.elements;\n  var c = v[0], d = v[1], e = v[2], g = Math.sqrt(c*c+d*d+e*e);\n  if(g){\n    if(g == 1)\n        return this;\n   } else {\n     v[0] = 0; v[1] = 0; v[2] = 0;\n     return this;\n   }\n   g = 1/g;\n   v[0] = c*g; v[1] = d*g; v[2] = e*g;\n   return this;\n};\n\n/**\n * Constructor of Vector4\n * If opt_src is specified, new vector is initialized by opt_src.\n * @param opt_src source vector(option)\n */\nvar Vector4 = function(opt_src) {\n  var v = new Float32Array(4);\n  if (opt_src && typeof opt_src === 'object') {\n    v[0] = opt_src[0]; v[1] = opt_src[1]; v[2] = opt_src[2]; v[3] = opt_src[3];\n  } \n  this.elements = v;\n}","export const clearColor = [1, 1, 1, 0.1];","export const fogShaderSource = {\n    vshader: `\n            attribute vec4 a_position;\n            attribute vec4 a_color;\n            varying vec4 f_color;\n            uniform mat4 u_modelMatrix;\n            uniform vec4 u_eye;\n            uniform mat4 u_mvpMatrix; \n            varying float v_dist;\n            void main(){\n                gl_Position = u_mvpMatrix * a_position;\n                f_color = a_color;\n                v_dist = distance(u_modelMatrix * a_position, u_eye);\n            }\n        `,\n    fshader: `\n            precision mediump float;\n            varying vec4 f_color;\n            varying float v_dist;\n            uniform vec4 u_fogColor;\n            uniform vec2 u_fogDist;\n            void main(){\n                float fogFactor = clamp((u_fogDist.y - v_dist) / (u_fogDist.y - u_fogDist.x), 0.0, 1.0);\n                vec4 color = mix(u_fogColor, f_color, fogFactor);\n                gl_FragColor = color;\n            }\n        `\n}","import { clearColor } from \"../../config/shader.js\";\nimport cube from \"../material/cube.js\";\nimport { fogShaderSource, } from \"../source_shader/webglGuide/index.js\";\nimport { Matrix4 } from \"../../utils/matrix_lib.js\";\n\nexport default function fog(ele) {\n        //init environment\n        this.canvasContainer = ele.current;\n        this.createCanvas(this.canvasContainer.clientWidth, this.canvasContainer.clientHeight).appendCanvas().getWebglContext();\n        this.gl.clearColor(...clearColor);\n        this.gl.enable(this.gl.DEPTH_TEST);\n        //init shader\n        this.initShader(fogShaderSource);\n        //model\n        model.call(this);\n        const modelMatrix = new Matrix4();\n        modelMatrix.setScale(10, 10, 10);\n        this.fillUniformData(modelMatrix.elements, \"u_modelMatrix\", 4, \"Matrix\");\n        //fog attribution\n        let fogColor = new Float32Array(this.getRandomArray(4));\n        let fogDist = new Float32Array([55, 80]);\n        let eye = new Float32Array([25, 65, 35, 1.0]);\n        this.fillUniformData(fogColor, \"u_fogColor\", 4);\n        this.fillUniformData(fogDist, \"u_fogDist\", 2);\n        this.fillUniformData(eye, \"u_eye\", 4);\n        // camera\n        const mvpMatrix = new Matrix4();\n        mvpMatrix.setPerspective(30, this.ele.width / this.ele.height, 1, 1000);\n        mvpMatrix.lookAt(eye[0], eye[1], eye[2], 0, 2, 0, 0, 1, 0);\n        mvpMatrix.multiply(modelMatrix);\n        this.fillUniformData(mvpMatrix.elements, \"u_mvpMatrix\", 4, \"Matrix\");\n        //rasterization\n        this.gl.clear(this.gl.DEPTH_BUFFER_BIT | this.gl.COLOR_BUFFER_BIT);\n        this.gl.drawElements(this.gl.TRIANGLES, cube.indices.length, this.gl.UNSIGNED_BYTE, 0);\n        //bind event\n        document.addEventListener(\"keydown\",keydown.bind(this,fogDist));\n}\nfunction model() {\n        let vertex = new Float32Array(cube.vertex);\n        let pointNum = vertex.length / cube.unit;\n        let indices = new Uint8Array(cube.indices);\n        let color = new Float32Array(this.getRandomArray(4 * pointNum));\n        this.fillShaderAttribution(vertex, \"a_position\", cube.unit);\n        this.fillShaderAttribution(color, \"a_color\", 4);\n        this.fillElementsIndex(indices);\n}\nfunction keydown(fogDist,ev){\n        switch(ev.keyCode){\n                case 38:\n                        fogDist[1]+=1;\n                        break;\n                case 40:\n                        if(fogDist[0]<fogDist[1]){\n                                fogDist[1]-=1;\n                        }\n                        break;\n        }\n        this.fillUniformData(fogDist,\"u_fogDist\",2);\n        this.gl.clear(this.gl.DEPTH_BUFFER_BIT | this.gl.COLOR_BUFFER_BIT);\n        this.gl.drawElements(this.gl.TRIANGLES, cube.indices.length, this.gl.UNSIGNED_BYTE, 0);\n}"],"sourceRoot":""}