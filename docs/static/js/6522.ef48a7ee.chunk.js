"use strict";(self.webpackChunktdnq_github_io=self.webpackChunktdnq_github_io||[]).push([[6522,9637],{9637:function(e,t,n){function a(e){var t;null===(t=e.querySelectorAll("canvas"))||void 0===t||t.forEach((function(e){return e.remove()}))}n.d(t,{e:function(){return a}})},6522:function(e,t,n){n.r(t),n.d(t,{default:function(){return c}});var a=n(3433),i=n(5671),o=n(3144),s=n(3562),r=n(2518),h=n(9637),c=function(){function e(t){var n=this;(0,i.Z)(this,e),this.leaveCallback=function(){var e;null===(e=n.gui)||void 0===e||e.destroy()},this.render=function(e){var t=.05*(e*=.001),a=n.data.curve.getPointAt(t%1),i=n.data.curve.getPointAt((t+.01)%1);n.objects.tank.position.set(a.x,n.objects.tank.position.y,a.y),n.objects.tank.lookAt(i.x,0,i.y),n.objects.tank.rotateX(-75*Math.PI/180),n.objects.tank.getObjectByName("wheels").children.forEach((function(t){t.rotateY(1*e)}));var o=n.objects.tank.getObjectByName("head");n.objects.target.getWorldPosition(n.data.targetPosition),o.lookAt(n.data.targetPosition),n.renderer.render(n.scene,n.camera)},this.animate=function(e){n.render(e),n.animationId.set("space",requestAnimationFrame(n.animate))},this.animationId=t,this.scene=null,this.objects={},this.light=[],this.camera=null,this.renderer=null,this.helper=[],this.data={targetPosition:new s.Pa4}}return(0,o.Z)(e,[{key:"init",value:function(e){this.canvasContainer=null===e||void 0===e?void 0:e.current,(0,h.e)(this.canvasContainer),this.initThree(),this.initCamera(),this.initLight(),this.initObjects(),this.initHelper(),this.initScene(),this.initControl(),requestAnimationFrame(this.animate)}},{key:"initControl",value:function(){this.control=new r.z(this.camera,this.renderer.domElement)}},{key:"initThree",value:function(){this.renderer=new s.CP7,this.renderer.shadowMap.enabled=!0,this.renderer.setClearColor(11184810),this.renderer.setSize(this.canvasContainer.clientWidth,this.canvasContainer.clientHeight),this.canvasContainer.appendChild(this.renderer.domElement)}},{key:"initScene",value:function(){var e,t;this.scene=new s.xsS,(e=this.scene).add.apply(e,(0,a.Z)(Object.values(this.objects))),(t=this.scene).add.apply(t,(0,a.Z)(this.helper).concat((0,a.Z)(this.light)))}},{key:"initHelper",value:function(){new s.VLJ(2,10).material.depthTest=!1}},{key:"initObjects",value:function(){var e=new s._12(3,3),t=new s.xoR({color:16434323}),n=new s.Kj0(e,t);n.receiveShadow=!0,n.rotateX(-90*Math.PI/180),this.objects.ground=n;var a=this.getTankObject();this.objects.tank=a;var i=new s.gti([new s.Pa4(.5,.5),new s.Pa4(.5,-.5),new s.Pa4(-.5,-.5),new s.Pa4(-.5,.5),new s.Pa4(.5,.5)]),o=i.getPoints(50),r=(new s.u9r).setFromPoints(o),h=new s.nls({color:16711680}),c=new s.x12(r,h);c.rotateX(-90*Math.PI/180),this.objects.splineObject=c,this.data.curve=i;var l=new s.Kj0(new s.xo$(.05),new s.xoR({color:255}));l.castShadow=!0,l.position.set(.6,.6,-.8),this.objects.target=l}},{key:"getTankObject",value:function(){var e=new s.ZAu,t=new s.Kj0(new s.DvJ(.3,.15,.6),new s.xoR({color:5138305})),n=new s.Kj0(new s.xo$(.1),new s.xoR({color:5138305})),a=new s.Kj0(new s.fHI(.02,.02,.4),new s.xoR({color:5138305}));a.rotateX(60*Math.PI/180),a.position.setY(.15),a.translateZ(.1);var i=new s.ZAu;i.name="head",i.add(a,n),i.position.setY(.1);var o=new s.ZAu;o.name="wheels";for(var r=new s.fHI(.08,.08,.08),h=0;h<6;h++){var c=new s.Kj0(r,new s.xoR({color:8947848})),l=0===Math.floor(h/3)?-.18:.18,d=h%3*.2;c.position.set(l,-.05,d+-.2),c.rotateZ(90*Math.PI/180),o.add(c)}return e.add(t,i,o),e.castShadow=!0,e.position.setY(.15),e.scale.set(.6,.6,.6),e}},{key:"initCamera",value:function(){this.camera=new s.cPb(60,this.canvasContainer.clientWidth/this.canvasContainer.clientHeight),this.camera.position.set(1,1,1),this.camera.lookAt(0,0,0)}},{key:"initLight",value:function(){var e=new s.Mig(16777215,.2);this.light.push(e);var t=new s.Ox3(16777215);this.light.push(t),t.position.set(0,1,0),t.castShadow=!0,t.shadow.mapSize.width=2048,t.shadow.mapSize.height=2048;t.shadow.camera.left=-50,t.shadow.camera.right=50,t.shadow.camera.top=50,t.shadow.camera.bottom=-50,t.shadow.camera.near=1,t.shadow.camera.far=50,t.shadow.bias=.001}}]),e}()}}]);