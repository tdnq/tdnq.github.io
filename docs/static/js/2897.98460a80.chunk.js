"use strict";(globalThis.webpackChunktdnq_github_io=globalThis.webpackChunktdnq_github_io||[]).push([[2897],{2897:(t,e,i)=>{i.r(e),i.d(e,{default:()=>s});var a=i(7885),r=i(8789),n=i(9637),l=i(6057);function s(t){this.canvasContainer=t.current,(0,n.e)(this.canvasContainer),this.createCanvas(this.canvasContainer.clientWidth,this.canvasContainer.clientHeight).appendCanvas().getWebglContext(),this.gl.clearColor(...a.cn),this.gl.enable(this.gl.DEPTH_TEST);this.createShaderProgram(r.HJ);const e=this.createShaderProgram(r.t$);this.gl.useProgram(e),this.gl._program=e;const i=o.call(this),s=new l.y;s.setPerspective(70,this.ele.width/this.ele.height,1,100),s.lookAt(0,7,2,0,0,0,0,1,0);const c=new l.y;c.setPerspective(15,this.ele.width/this.ele.height,1,100),c.lookAt(0,7,9,0,0,0,0,1,0),c.translate(0,.8,0),h.call(this,{vertexNum:i,count:0,angle:0,mvpMatrix:c}),this.gl.clear(this.gl.DEPTH_BUFFER_BIT|this.gl.COLOR_BUFFER_BIT)}function h(t){return this.gl.clear(this.gl.DEPTH_BUFFER_BIT|this.gl.COLOR_BUFFER_BIT),this.fillUniformData(new l.y(t.mvpMatrix).rotate(t.angle,0,1,0).elements,"u_mvpMatrix",4,"Matrix"),this.gl.drawArrays(this.gl.TRIANGLES,0,3),this.fillUniformData(new l.y(t.mvpMatrix).elements,"u_mvpMatrix",4,"Matrix"),this.gl.drawArrays(this.gl.TRIANGLES,3,t.vertexNum-3),t.angle+=.1,t.angle%=360,requestAnimationFrame((()=>{h.call(this,t)}))}function o(){const t=new Float32Array([0,0,0,0,0,.5,.5,0,0].concat(...[-1,-1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,-1,-1,1,-1,-1])),e=new Array(24).fill(1),i=new Float32Array(this.getRandomArray(12).concat(e));return this.fillShaderAttribution(t,"a_position",3),this.fillShaderAttribution(i,"a_color",4),t.length/3}}}]);