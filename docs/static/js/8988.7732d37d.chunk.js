(globalThis.webpackChunktdnq_github_io=globalThis.webpackChunktdnq_github_io||[]).push([[8988,9495,9637],{9637:(e,t,i)=>{"use strict";function n(e){var t;null===(t=e.querySelectorAll("canvas"))||void 0===t||t.forEach((e=>e.remove()))}i.d(t,{e:()=>n})},8988:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>h});var n=i(3562),s=i(9637),r=i(5165),a=i(9495);class h{constructor(){this.leaveCallback=()=>{var e;null===(e=this.gui)||void 0===e||e.destroy(),cancelAnimationFrame(this.animationId)},this.render=()=>{this.renderer.render(this.scene,this.camera)},this.animate=e=>{this.render(e),this.animationId=requestAnimationFrame(this.animate)},this.animationId,this.scene=null,this.objects={},this.light=[],this.camera=null,this.renderer=null,this.helper=[],this.textureLoader=new n.dpR,this.fileLoader=new n.hH6,this.data={isHideHelper:"/"===window.location.pathname},this.info={name:"pixels",describe:"\u50cf\u7d20\u5904\u7406",source:"\u6781\u5ba2\u65f6\u95f4 \u8ddf\u6708\u5f71\u5b66\u53ef\u89c6\u5316",time:"2022/09/14",showPriority:55}}async init(e){this.canvasContainer=null===e||void 0===e?void 0:e.current,(0,s.e)(this.canvasContainer),this.initThree(),this.initCamera(),this.initControl(),await this.initObjects(),this.initLight(),this.initHelper(),await this.initScene(),requestAnimationFrame(this.animate)}initControl(){}initThree(){this.renderer=new n.CP7,this.renderer.setSize(this.canvasContainer.clientWidth,this.canvasContainer.clientHeight),this.canvasContainer.appendChild(this.renderer.domElement)}async initScene(){this.scene=new n.xsS,this.scene.add(...Object.values(this.objects)),this.helper.length&&this.scene.add(...this.helper),this.light.length&&this.scene.add(...this.light)}initHelper(){if(this.data.isHideHelper)return;this.gui=new r.XS;let e=new n.Rki(this.camera);this.gui.add(e,"visible").name("cameraHelper").listen(),this.helper.push(e),this.helper.forEach((e=>{e.material&&(e.material.depthTest=!1,e.renderOrder=2),void 0!==e.visible&&(e.visible=!1)}))}async initObjects(){{let e=new n._12(2,2),t=new n.jyz({uniforms:{textureUv:{value:this.textureLoader.load(a)},u_resolution:{value:new n.FM8(this.renderer.domElement.clientWidth,this.renderer.domElement.clientHeight)}},vertexShader:await this.fileLoader.loadAsync((await i(7028)(`./${this.info.name}.vert.glsl`)).default),fragmentShader:await this.fileLoader.loadAsync((await i(7063)(`./${this.info.name}.frag.glsl`)).default)}),s=new n.Kj0(e,t);this.objects.plane=s}}initCamera(){this.camera=new n.iKG,this.camera.position.set(0,0,.5),this.camera.lookAt(0,0,0)}initLight(){{let e=new n.Mig(16777215,.6);this.light.push(e)}}}},7063:(e,t,i)=>{var n={"./pixels.frag.glsl":[6732,6732],"./repeatAndRandom.frag.glsl":[1867,1867]};function s(e){if(!i.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],s=t[0];return i.e(t[1]).then((()=>i.t(s,17)))}s.keys=()=>Object.keys(n),s.id=7063,e.exports=s},7028:(e,t,i)=>{var n={"./pixels.vert.glsl":[4456,4456],"./repeatAndRandom.vert.glsl":[968,968]};function s(e){if(!i.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],s=t[0];return i.e(t[1]).then((()=>i.t(s,17)))}s.keys=()=>Object.keys(n),s.id=7028,e.exports=s},9495:(e,t,i)=>{"use strict";e.exports=i.p+"static/media/d22c3ff49fd473b4cb6b52f036542a36.20f4924365d1d15eb2a9.webp"}}]);