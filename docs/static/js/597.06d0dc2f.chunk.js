"use strict";(globalThis.webpackChunktdnq_github_io=globalThis.webpackChunktdnq_github_io||[]).push([[597],{3116:(t,i,e)=>{e.d(i,{Z:()=>n});const n={vertex:[-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,1,-1,-1,1,1,-1,-1,1,-1],indices:[0,3,2,0,1,2,1,2,5,2,5,6,2,3,6,3,6,7,0,3,4,3,4,7,0,1,4,1,4,5,4,5,6,4,6,7],unit:3}},597:(t,i,e)=>{e.r(i),e.d(i,{default:()=>r});var n=e(7885),a=e(3116),s=e(8789),l=e(6057),h=e(9637);function r(t){this.canvasContainer=t.current,(0,h.e)(this.canvasContainer),this.createCanvas(this.canvasContainer.clientWidth,this.canvasContainer.clientHeight).appendCanvas().getWebglContext(),this.gl.clearColor(...n.pn),this.gl.enable(this.gl.DEPTH_TEST),this.initShader(s.Le),o.call(this);const i=new l.y;i.setScale(10,10,10),this.fillUniformData(i.elements,"u_modelMatrix",4,"Matrix");const e=new Float32Array(this.getRandomArray(4)),r=new Float32Array([55,80]),g=new Float32Array([25,65,35,1]);this.fillUniformData(e,"u_fogColor",4),this.fillUniformData(r,"u_fogDist",2),this.fillUniformData(g,"u_eye",4);const d=new l.y;d.setPerspective(30,this.ele.width/this.ele.height,1,1e3),d.lookAt(g[0],g[1],g[2],0,2,0,0,1,0),d.multiply(i),this.fillUniformData(d.elements,"u_mvpMatrix",4,"Matrix"),this.gl.clear(this.gl.DEPTH_BUFFER_BIT|this.gl.COLOR_BUFFER_BIT),this.gl.drawElements(this.gl.TRIANGLES,a.Z.indices.length,this.gl.UNSIGNED_BYTE,0),document.addEventListener("keydown",c.bind(this,r))}function o(){const t=new Float32Array(a.Z.vertex),i=t.length/a.Z.unit,e=new Uint8Array(a.Z.indices),n=new Float32Array(this.getRandomArray(4*i));this.fillShaderAttribution(t,"a_position",a.Z.unit),this.fillShaderAttribution(n,"a_color",4),this.fillElementsIndex(e)}function c(t,i){switch(i.keyCode){case 38:t[1]+=1;break;case 40:t[0]<t[1]&&(t[1]-=1)}this.fillUniformData(t,"u_fogDist",2),this.gl.clear(this.gl.DEPTH_BUFFER_BIT|this.gl.COLOR_BUFFER_BIT),this.gl.drawElements(this.gl.TRIANGLES,a.Z.indices.length,this.gl.UNSIGNED_BYTE,0)}}}]);