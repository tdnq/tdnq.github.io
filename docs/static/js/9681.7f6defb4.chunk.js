(globalThis.webpackChunktdnq_github_io=globalThis.webpackChunktdnq_github_io||[]).push([[9681,9637],{9637:(e,i,t)=>{"use strict";function n(e){var i;null===(i=e.querySelectorAll("canvas"))||void 0===i||i.forEach((e=>e.remove()))}t.d(i,{e:()=>n})},9681:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>h});var n=t(3562),r=t(9637),a=t(5165),s=t(2518);class h{constructor(){this.leaveCallback=()=>{var e;null===(e=this.gui)||void 0===e||e.destroy(),cancelAnimationFrame(this.animationId)},this.render=()=>{this.renderer.render(this.scene,this.camera)},this.animate=e=>{this.render(e),this.animationId=requestAnimationFrame(this.animate)},this.animationId,this.scene=null,this.objects={},this.light=[],this.camera=null,this.renderer=null,this.helper=[],this.fileLoader=new n.hH6,this.data={isHideHelper:"/"===window.location.pathname},this.info={name:"repeatAndRandom",describe:"\u5206\u5f62",source:"\u6781\u5ba2\u65f6\u95f4 \u8ddf\u6708\u5f71\u5b66\u53ef\u89c6\u5316",time:"2022/09/11",showPriority:55}}async init(e){this.canvasContainer=null===e||void 0===e?void 0:e.current,(0,r.e)(this.canvasContainer),this.initThree(),this.initCamera(),this.initControl(),await this.initObjects(),this.initLight(),this.initHelper(),await this.initScene(),requestAnimationFrame(this.animate)}initControl(){this.control=new s.z(this.camera,this.renderer.domElement)}initThree(){this.renderer=new n.CP7,this.renderer.setSize(this.canvasContainer.clientWidth,this.canvasContainer.clientHeight),this.canvasContainer.appendChild(this.renderer.domElement)}async initScene(){this.scene=new n.xsS,this.scene.add(...Object.values(this.objects)),this.helper.length&&this.scene.add(...this.helper),this.light.length&&this.scene.add(...this.light)}initHelper(){if(this.data.isHideHelper)return;this.gui=new a.XS;let e=new n.Rki(this.camera);this.gui.add(e,"visible").name("cameraHelper").listen(),this.helper.push(e),this.helper.forEach((e=>{e.material&&(e.material.depthTest=!1,e.renderOrder=2),void 0!==e.visible&&(e.visible=!1)}))}async initObjects(){{let e=new n._12(2,2),i=new n.jyz({vertexShader:await this.fileLoader.loadAsync((await t(7028)(`./${this.info.name}.vert.glsl`)).default),fragmentShader:await this.fileLoader.loadAsync((await t(7063)(`./${this.info.name}.frag.glsl`)).default),uniforms:{u_resolution:{value:new n.FM8(this.renderer.domElement.clientWidth,this.renderer.domElement.clientHeight)}}}),r=new n.Kj0(e,i);this.objects.plane=r}}rand(e,i){return void 0===i&&(i=e,e=0),e+(i-e)*Math.random()}initCamera(){this.camera=new n.iKG,this.camera.position.set(0,0,.5),this.camera.lookAt(0,0,0)}initLight(){{let e=new n.Mig(16777215,.6);this.light.push(e)}}}},7063:(e,i,t)=>{var n={"./pixels.frag.glsl":[6732,6732],"./repeatAndRandom.frag.glsl":[1867,1867]};function r(e){if(!t.o(n,e))return Promise.resolve().then((()=>{var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}));var i=n[e],r=i[0];return t.e(i[1]).then((()=>t.t(r,17)))}r.keys=()=>Object.keys(n),r.id=7063,e.exports=r},7028:(e,i,t)=>{var n={"./pixels.vert.glsl":[4456,4456],"./repeatAndRandom.vert.glsl":[968,968]};function r(e){if(!t.o(n,e))return Promise.resolve().then((()=>{var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}));var i=n[e],r=i[0];return t.e(i[1]).then((()=>t.t(r,17)))}r.keys=()=>Object.keys(n),r.id=7028,e.exports=r}}]);