"use strict";(globalThis.webpackChunktdnq_github_io=globalThis.webpackChunktdnq_github_io||[]).push([[6033,597,2897],{3116:(t,e,i)=>{i.d(e,{Z:()=>n});const n={vertex:[-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,1,-1,-1,1,1,-1,-1,1,-1],indices:[0,3,2,0,1,2,1,2,5,2,5,6,2,3,6,3,6,7,0,3,4,3,4,7,0,1,4,1,4,5,4,5,6,4,6,7],unit:3}},597:(t,e,i)=>{i.r(e),i.d(e,{default:()=>o});var n=i(7885),a=i(3116),s=i(8789),r=i(6057),l=i(9637);function o(t){this.canvasContainer=t.current,(0,l.e)(this.canvasContainer),this.createCanvas(this.canvasContainer.clientWidth,this.canvasContainer.clientHeight).appendCanvas().getWebglContext(),this.gl.clearColor(...n.pn),this.gl.enable(this.gl.DEPTH_TEST),this.initShader(s.Le),h.call(this);const e=new r.y;e.setScale(10,10,10),this.fillUniformData(e.elements,"u_modelMatrix",4,"Matrix");const i=new Float32Array(this.getRandomArray(4)),o=new Float32Array([55,80]),g=new Float32Array([25,65,35,1]);this.fillUniformData(i,"u_fogColor",4),this.fillUniformData(o,"u_fogDist",2),this.fillUniformData(g,"u_eye",4);const d=new r.y;d.setPerspective(30,this.ele.width/this.ele.height,1,1e3),d.lookAt(g[0],g[1],g[2],0,2,0,0,1,0),d.multiply(e),this.fillUniformData(d.elements,"u_mvpMatrix",4,"Matrix"),this.gl.clear(this.gl.DEPTH_BUFFER_BIT|this.gl.COLOR_BUFFER_BIT),this.gl.drawElements(this.gl.TRIANGLES,a.Z.indices.length,this.gl.UNSIGNED_BYTE,0),document.addEventListener("keydown",c.bind(this,o))}function h(){const t=new Float32Array(a.Z.vertex),e=t.length/a.Z.unit,i=new Uint8Array(a.Z.indices),n=new Float32Array(this.getRandomArray(4*e));this.fillShaderAttribution(t,"a_position",a.Z.unit),this.fillShaderAttribution(n,"a_color",4),this.fillElementsIndex(i)}function c(t,e){switch(e.keyCode){case 38:t[1]+=1;break;case 40:t[0]<t[1]&&(t[1]-=1)}this.fillUniformData(t,"u_fogDist",2),this.gl.clear(this.gl.DEPTH_BUFFER_BIT|this.gl.COLOR_BUFFER_BIT),this.gl.drawElements(this.gl.TRIANGLES,a.Z.indices.length,this.gl.UNSIGNED_BYTE,0)}},6033:(t,e,i)=>{i.r(e),i.d(e,{default:()=>d});var n=i(6418),a=i(3116);const s={vshader:"\n            attribute vec4 a_position;\n            attribute vec4 a_color;\n            varying vec4 f_color;\n            uniform mat4 u_transformMatrix;\n            void main(){\n                gl_Position = u_transformMatrix * a_position;\n                f_color = a_color;\n                gl_PointSize = 10.0;\n            }\n        ",fshader:"\n            precision mediump float;\n            varying vec4 f_color;\n            void main(){\n                gl_FragColor = f_color;\n            }\n        "};var r=i(6057),l=i(7885),o=i(9637),h=i(597),c=i(8393),g=i(2897);class d extends n.Z{constructor(...t){super(...t)}rotateCubeUseMouse(t){this.canvasContainer=t.current,(0,o.e)(this.canvasContainer),this.createCanvas(this.canvasContainer.clientWidth,this.canvasContainer.clientHeight).appendCanvas().getWebglContext(),this.gl.clearColor(...l.cn),this.gl.enable(this.gl.BLEND),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_CONSTANT_ALPHA),this.initShader(s),this.rotateCubeUseMouse_model();const e=new r.y;e.setPerspective(30,this.ele.width/this.ele.height,1,100),e.lookAt(6,4,6,0,0,0,0,1,0);const i=this.gl.getUniformLocation(this.gl._program,"u_transformMatrix");this.rotateCubeUseMouse_bind(e,i)}rotateCubeUseMouse_model(){const t=new Float32Array(a.Z.vertex),e=t.length/a.Z.unit,i=new Uint8Array(a.Z.indices),n=new Float32Array(this.getRandomArray(4*e));this.fillShaderAttribution(t,"a_position",a.Z.unit),this.fillShaderAttribution(n,"a_color",4),this.fillElementsIndex(i)}rotateCubeUseMouse_bind(t,e){let i=!1;const n={x:0,y:0};let s=0,l=0;const o=new r.y;this.ele.addEventListener("mousedown",(t=>{const e=t.target.getBoundingClientRect();s=t.clientX-e.x,l=t.clientY-e.y,i=!0})),this.ele.addEventListener("mouseup",(()=>{i=!1})),this.ele.addEventListener("mousemove",(t=>{if(i){const e=t.target.getBoundingClientRect(),i=t.clientX-e.x,a=t.clientY-e.y;n.y+=(i-s)/t.target.width*180,n.x+=(a-l)/t.target.height*180,n.y=Math.max(Math.min(n.y,90),-90),s=i,l=a}}));let h=function(){o.set(t),o.rotate(n.x,1,0,0),o.rotate(n.y,0,1,0),this.gl.uniformMatrix4fv(e,!1,o.elements),this.gl.clear(this.gl.DEPTH_BUFFER_BIT|this.gl.COLOR_BUFFER_BIT),this.gl.drawElements(this.gl.TRIANGLES,a.Z.indices.length,this.gl.UNSIGNED_BYTE,0),window.requestAnimationFrame(h)}.bind(this);h()}fog(){h.default.call(this,...arguments)}shadow(){g.default.call(this,...arguments)}roundedPoint(){c.default.call(this,...arguments)}get_shader_info(t){const e={rotateCubeUseMouse:{name:"\u9f20\u6807\u63a7\u5236\u6b63\u65b9\u4f53\u65cb\u8f6c",describe:"",source:"<<webgl\u7f16\u7a0b\u6307\u5357>>",time:"2021/10/07"},fog:{name:"\u96fe\u5316\u6548\u679c",describe:"\u2191\u2193:\u589e\u5927/\u51cf\u5c0f \u96fe\u5316\u7684\u8ddd\u79bb",source:"<<webgl\u7f16\u7a0b\u6307\u5357>>",time:"2021/10/31"},roundedPoint:{name:"\u5706\u70b9",describe:"\u4f7f\u7528GLSL ES\u753b\u51fa\u5706\u70b9",source:"<<webgl\u7f16\u7a0b\u6307\u5357>>",time:"2021/11/07"},shadow:{name:"\u9634\u5f71",describe:"webgl \u9634\u5f71\u6548\u679c",source:"<<webgl\u7f16\u7a0b\u6307\u5357>>",time:"2021/11/13"}};return"*"===t?e:e[t]}}},8393:(t,e,i)=>{i.r(e),i.d(e,{default:()=>r});var n=i(7885),a=i(8789),s=i(9637);function r(t){this.canvasContainer=t.current,(0,s.e)(this.canvasContainer),this.createCanvas(this.canvasContainer.clientWidth,this.canvasContainer.clientHeight).appendCanvas().getWebglContext(),this.gl.clearColor(...n.pn),this.gl.enable(this.gl.DEPTH_TEST),this.initShader(a.e3);const e=l.call(this);this.gl.clear(this.gl.DEPTH_BUFFER_BIT|this.gl.COLOR_BUFFER_BIT),this.gl.drawArrays(this.gl.POINTS,0,e)}function l(){const t=new Float32Array([0,0,0,0,.5,0,.5,0,0,-.5,0,0,0,-.5,0]),e=new Float32Array(this.getRandomArray(t.length/3*4));return this.fillShaderAttribution(t,"a_position",3),this.fillShaderAttribution(e,"a_color",4),t.length/3}},2897:(t,e,i)=>{i.r(e),i.d(e,{default:()=>l});var n=i(7885),a=i(8789),s=i(9637),r=i(6057);function l(t){this.canvasContainer=t.current,(0,s.e)(this.canvasContainer),this.createCanvas(this.canvasContainer.clientWidth,this.canvasContainer.clientHeight).appendCanvas().getWebglContext(),this.gl.clearColor(...n.cn),this.gl.enable(this.gl.DEPTH_TEST);this.createShaderProgram(a.HJ);const e=this.createShaderProgram(a.t$);this.gl.useProgram(e),this.gl._program=e;const i=h.call(this),l=new r.y;l.setPerspective(70,this.ele.width/this.ele.height,1,100),l.lookAt(0,7,2,0,0,0,0,1,0);const c=new r.y;c.setPerspective(15,this.ele.width/this.ele.height,1,100),c.lookAt(0,7,9,0,0,0,0,1,0),c.translate(0,.8,0),o.call(this,{vertexNum:i,count:0,angle:0,mvpMatrix:c}),this.gl.clear(this.gl.DEPTH_BUFFER_BIT|this.gl.COLOR_BUFFER_BIT)}function o(t){return this.gl.clear(this.gl.DEPTH_BUFFER_BIT|this.gl.COLOR_BUFFER_BIT),this.fillUniformData(new r.y(t.mvpMatrix).rotate(t.angle,0,1,0).elements,"u_mvpMatrix",4,"Matrix"),this.gl.drawArrays(this.gl.TRIANGLES,0,3),this.fillUniformData(new r.y(t.mvpMatrix).elements,"u_mvpMatrix",4,"Matrix"),this.gl.drawArrays(this.gl.TRIANGLES,3,t.vertexNum-3),t.angle+=.1,t.angle%=360,requestAnimationFrame((()=>{o.call(this,t)}))}function h(){const t=new Float32Array([0,0,0,0,0,.5,.5,0,0].concat(...[-1,-1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,-1,-1,1,-1,-1])),e=new Array(24).fill(1),i=new Float32Array(this.getRandomArray(12).concat(e));return this.fillShaderAttribution(t,"a_position",3),this.fillShaderAttribution(i,"a_color",4),t.length/3}}}]);